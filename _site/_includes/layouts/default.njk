{%- set pageTitle -%}{{ title +' :: '+ site.meta.title if title else site.meta.title }}{%- endset -%}

<!doctype html>
<html lang="en" class="bg-transparent antialiased [&:has(:is(dialog[open]))]:(overflow-hidden [scrollbar-gutter:stable])" x-data>

  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>{{ pageTitle }}</title>
    <meta name="description" content="{{ site.meta.description }}" />
    <meta name="author" content="{{ site.meta.author }} - {{ site.meta.author_url }}" />
    <meta name="generator" content="{{ eleventy.generator }}" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="{{ '/' | url }}favicon.ico" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link onload="this.onload=null;this.rel='stylesheet'" rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Pirata+One&display=swap" />
    <meta property="og:title" content="{{ pageTitle }}" />
    <meta property="og:description" content="{{ site.meta.description }}" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ page.url | url }}" />
    <meta property="og:image" content="{{ '/' | url }}_assets/img/og.png" />
    {% renderblock 'css' %}
  </head>

  <body class="bg-(zinc-950 noise fixed center) text-pri-300 font-serif !block" style="display: none;" data-instant-intensity="mousedown">
    <div class="min-h-screen flex-(& col) relative before:(h-[25vh] bg-gradient-to-b from-zinc-50/5 fixed inset-x-0 top-0 z-[-1]) after:(h-[50vh] bg-gradient-to-t from-zinc-950/80 fixed inset-x-0 bottom-0 z-[-1])">

      <header class="w-full shrink-0">
        {%- include 'inc.nav.njk' -%}
        <div class="mx-auto py-12 px-4 max-w-5xl text-center">
          <h1 class="
            bg-[length:200%_auto]
            bg-(clip-text [linear-gradient(to_right,theme(colors.pri.300),theme(colors.pri.500),theme(colors.lime.500),theme(colors.pri.300))])
            text-(transparent 5xl)
            font-goblin
            md:(text-[8rem] tracking-tight)
            motion-safe:(animate-header)
          ">
            <span class="flex items-center justify-center gap-3 md:gap-5">
              {%- if page.url === '/' %}
                {{ site.meta.title | replace(' ', '<img src="/_assets/img/jewel.png" alt="jewel" class="w-6 h-auto md:w-auto" />') | safe }}
              {%- else %}
                {{ title }}
              {%- endif %}
            </span>
            <small class="text-(sec-500 xl) tracking-normal block md:(text-3xl)">{{ subtitle if subtitle else site.meta.description }}</small>
          </h1>
        </div>
      </header>

      <main class="py-12 w-full grow">
        <article class="mx-auto px-6 max-w-5xl">
          {{ content | safe }}
        </article>
      </main>

      <footer class="divider mt-auto p-6 pt-12 w-full text-(zinc-400/75 xs center) italic shrink-0 md:(text-sm)">
        <div>
          <div class="flex-(& wrap) items-center justify-center gap-2 md:gap-3">
            <span>&copy;{% year %} {{ site.meta.title }}</span>
            <span aria-hidden="true"><img src="/_assets/img/jewel.png" alt="jewel" class="w-auto h-[24px]" /></span>
            <span>Created by <a href="/goblins/qranog/" class="link">Qranog</a></span>
          </div>
          {%- include 'inc.info.njk' -%}
        </div>
      </footer>

    </div>

    {%- renderblock 'js' %}
    <script src="{{ '/' | url }}_assets/js/_app.js?v={% bust %}"></script>
  </body>

</html>
